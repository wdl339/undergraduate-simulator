<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ¬ç§‘ç”Ÿæ¨¡æ‹Ÿå™¨ Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="screen">

        <!-- ä»‹ç»ä¸è®¾ç½® (ä¿æŒåœ¨ä¸€ä¸ªå®¹å™¨ï¼Œé€šè¿‡JSåˆ‡æ¢) -->
        <div id="screen-intro" class="intro-screen">
            <h1 style="color:var(--primary)">ğŸ“ æœ¬ç§‘ç”Ÿæ¨¡æ‹Ÿå™¨ Pro</h1>
            <p style="color:#666; max-width:500px">åœ¨è¿™é‡Œï¼Œä½ è¦å¹³è¡¡å­¦ä¸šã€ç§‘ç ”ã€å®ä¹ ä¸æ‹çˆ±ã€‚<br>ä½ çš„æ¯ä¸€ä¸ªå†³å®šï¼Œéƒ½å…³ä¹ä½ èƒ½å¦é¡ºåˆ©æ¯•ä¸šï¼Œä»¥åŠæœªæ¥çš„å»å‘ã€‚</p>
            <button class="btn-primary" onclick="UI.showSetup()" style="margin-top:30px">å¼€å§‹æ–°ç”ŸæŠ¥åˆ°</button>
        </div>

        <div id="screen-setup" class="intro-screen hidden">
            <h2>ğŸ“ æ–°ç”Ÿæ¡£æ¡ˆç™»è®°</h2>
            <div class="form-group">
                <label>ç›®æ ‡é™¢æ ¡</label><br>
                <select id="select-difficulty"></select>
            </div>
            <div class="form-group">
                <label>å…¥å­¦æ€§æ ¼</label><br>
                <select id="select-personality"></select>
            </div>
            <button class="btn-primary" onclick="UI.startGame()">é¢†å–å­¦ç”Ÿè¯</button>
        </div>

        <!-- çœŸæ­£çš„æ¸¸æˆç•Œé¢ -->
        <div id="screen-game" class="hidden" style="display:flex; width:100%; height:100%">
            <!-- å·¦ä¾§ï¼šç´§å‡‘å±æ€§æ  -->
            <div class="sidebar">
                <div class="sidebar-section-title">ä¸ªäººçŠ¶æ€</div>
                <div id="basic-stats-list"></div>

                <div class="sidebar-section-title">å­¦ä¸šè®°å½•</div>
                <div id="academic-stats-list"></div>
            </div>

            <!-- å³ä¾§ï¼šä¸»ç•Œé¢ -->
            <div class="main-view">
                <!-- é¡¶æ  -->
                <div class="top-bar">
                    <div id="game-date" class="game-date">ç¬¬1å¹´ | 9æœˆ</div>
                </div>

                <!-- å·¥ä½œåŒºï¼šå·¦å¡ç‰‡ï¼Œå³æ—¥å¿— -->
                <div class="game-workspace">
                    <div class="left-panel" id="card-area">
                        <!-- å¡ç‰‡ JS åŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="right-panel">
                        <div id="goal-tracker" style="border-bottom:1px solid #eee; padding-bottom:10px;"></div>
                        <h4 style="margin:10px 0 5px 0; color:#999; font-size:12px">ğŸ—“ï¸ ç”Ÿæ¶¯è®°å½•</h4>
                        <div id="log-box"></div>
                    </div>
                </div>

                <!-- åº•æ  -->
                <div class="bottom-bar">
                    <div class="project-bar" id="active-project-bar"></div>
                    <div class="action-group">
                        <button class="btn-outline" id="btn-project">ğŸš€ å¼€å±•é¡¹ç›®</button>
                        <button class="btn-outline" id="btn-shop">ğŸ›’ æ ¡å›­è¶…å¸‚</button>
                        <button class="btn-outline" id="btn-goal">ğŸ¯ æ›´æ¢ç›®æ ‡</button>
                        <button class="btn-primary" id="btn-next-phase" onclick="GameState.nextPhase()">è¿›å…¥ä¸‹ä¸€é˜¶æ®µ >></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- é€šç”¨æ¨¡æ€æ¡† -->
    <div id="modal-overlay" class="hidden" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;z-index:999">
        <div style="background:#fff; width:400px; max-width:90%; padding:20px; border-radius:8px;">
            <h3 id="modal-title" style="margin-top:0">æ ‡é¢˜</h3>
            <div id="modal-body" style="max-height:300px; overflow-y:auto"></div>
            <div style="text-align:right; margin-top:20px;">
                <button class="btn-sm" id="modal-close">å…³é—­</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/logic.js"></script>
    <script src="js/ui.js"></script>
    <script>
        // åˆå§‹åŒ–ä¸‹æ‹‰èœå•çš„è¾…åŠ©è„šæœ¬ï¼Œé¿å…åœ¨UI.jsé‡Œå†™å¤ªæ‚
        window.onload = function() {
            const diffSel = document.getElementById('select-difficulty');
            for (let k in GameData.difficulties) {
                diffSel.add(new Option(GameData.difficulties[k].name, k));
            }
            const persSel = document.getElementById('select-personality');
            for (let k in GameData.personalities) {
                persSel.add(new Option(GameData.personalities[k].name, k));
            }
            UI.init();
        };
    </script>
</body>
</html>